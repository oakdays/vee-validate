<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VeeValidate | Component Injections</title>
    <meta name="description" content="Input validation for Vue.js">
    <meta charset="utf-8">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#41b883">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg">
  <link rel="apple-touch-icon" sizes="57x57" href="/vee-validate/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/vee-validate/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/vee-validate/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/vee-validate/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/vee-validate/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/vee-validate/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/vee-validate/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/vee-validate/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/vee-validate/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/vee-validate/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vee-validate/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/vee-validate/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vee-validate/img/favicon-16x16.png">
    
    <link rel="preload" href="/vee-validate/assets/css/35.styles.40c25cdc.css" as="style"><link rel="preload" href="/vee-validate/assets/js/app.18b3ed2a.js" as="script"><link rel="preload" href="/vee-validate/assets/js/33.a89c0186.js" as="script"><link rel="prefetch" href="/vee-validate/assets/js/18.a7749d58.js"><link rel="prefetch" href="/vee-validate/assets/js/1.762360ec.js"><link rel="prefetch" href="/vee-validate/assets/js/2.7f6e4fb5.js"><link rel="prefetch" href="/vee-validate/assets/js/3.2e435581.js"><link rel="prefetch" href="/vee-validate/assets/js/4.a7d2452e.js"><link rel="prefetch" href="/vee-validate/assets/js/5.426d1c68.js"><link rel="prefetch" href="/vee-validate/assets/js/6.fed5d276.js"><link rel="prefetch" href="/vee-validate/assets/js/7.6f711d21.js"><link rel="prefetch" href="/vee-validate/assets/js/8.44421426.js"><link rel="prefetch" href="/vee-validate/assets/js/9.e297379e.js"><link rel="prefetch" href="/vee-validate/assets/js/10.a7207ff5.js"><link rel="prefetch" href="/vee-validate/assets/js/11.ebe35db2.js"><link rel="prefetch" href="/vee-validate/assets/js/12.42e9186a.js"><link rel="prefetch" href="/vee-validate/assets/js/13.1ea86499.js"><link rel="prefetch" href="/vee-validate/assets/js/14.03ed462f.js"><link rel="prefetch" href="/vee-validate/assets/js/15.83fe6cdc.js"><link rel="prefetch" href="/vee-validate/assets/js/16.908905af.js"><link rel="prefetch" href="/vee-validate/assets/js/17.7b77feef.js"><link rel="prefetch" href="/vee-validate/assets/js/0.0220f6c7.js"><link rel="prefetch" href="/vee-validate/assets/js/19.4011b14f.js"><link rel="prefetch" href="/vee-validate/assets/js/20.761cf37a.js"><link rel="prefetch" href="/vee-validate/assets/js/21.793a006a.js"><link rel="prefetch" href="/vee-validate/assets/js/22.37e39bcf.js"><link rel="prefetch" href="/vee-validate/assets/js/23.e07d718d.js"><link rel="prefetch" href="/vee-validate/assets/js/24.88a1d1c0.js"><link rel="prefetch" href="/vee-validate/assets/js/25.ac044e6f.js"><link rel="prefetch" href="/vee-validate/assets/js/26.f7179092.js"><link rel="prefetch" href="/vee-validate/assets/js/27.2502525d.js"><link rel="prefetch" href="/vee-validate/assets/js/28.aba23fa9.js"><link rel="prefetch" href="/vee-validate/assets/js/29.c51dd21b.js"><link rel="prefetch" href="/vee-validate/assets/js/30.467e22c6.js"><link rel="prefetch" href="/vee-validate/assets/js/31.36cb489b.js"><link rel="prefetch" href="/vee-validate/assets/js/32.5c6b27b2.js"><link rel="prefetch" href="/vee-validate/assets/js/34.bb4fed7c.js">
    <link rel="stylesheet" href="/vee-validate/assets/css/35.styles.40c25cdc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/vee-validate/" class="home-link router-link-active"><!----><span class="site-name">
      VeeValidate
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/advanced/" class="nav-link router-link-exact-active router-link-active">Advanced</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div><a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/advanced/" class="nav-link router-link-exact-active router-link-active">Advanced</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div><a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Advanced</span><!----></p><ul class="sidebar-group-items"><li><a href="/vee-validate/advanced/" class="active sidebar-link">Component Injections</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vee-validate/advanced/#injecting-parent-validator" class="sidebar-link">Injecting Parent Validator</a></li><li class="sidebar-sub-header"><a href="/vee-validate/advanced/#disabling-automatic-injection" class="sidebar-link">Disabling Automatic Injection</a></li></ul></li><li><a href="/vee-validate/advanced/ctor.html" class="sidebar-link">Component Constructor Options</a></li><li><a href="/vee-validate/advanced/backend.html" class="sidebar-link">Backend Validation</a></li><li><a href="/vee-validate/advanced/bundle-size.html" class="sidebar-link">Bundle Size</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="component-injections"><a href="#component-injections" aria-hidden="true" class="header-anchor">#</a> Component Injections</h1><p>The default behavior for the plugin is to forcibly inject a validator instance for each component, which means each component has its own validator instance, this makes sharing error messages between components relatively hard depending on your case.</p><h2 id="injecting-parent-validator"><a href="#injecting-parent-validator" aria-hidden="true" class="header-anchor">#</a> Injecting Parent Validator</h2><p>You can rely on Vue's <a href="https://vuejs.org/v2/api/#provide-inject" target="_blank" rel="noopener noreferrer">Provide/Inject API</a> for this case, here is how it works:</p><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="highlighted-line">  inject<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'$validator'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// OR use object synatx</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="highlighted-line">  inject<span class="token punctuation">:</span> <span class="token punctuation">{</span></span><span class="highlighted-line">    $validator<span class="token punctuation">:</span> <span class="token string">'$validator'</span></span><span class="highlighted-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>This will make the component inherit it's parent's validator instance, thus sharing all errors and validation state. Meaning it has access to the same <code>errors</code> and <code>fields</code> computed properties as well.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If the direct parent isn't able to provide a validator instance, the API will traverse the tree upwards looking for a parent that can.</p></div><h2 id="disabling-automatic-injection"><a href="#disabling-automatic-injection" aria-hidden="true" class="header-anchor">#</a> Disabling Automatic Injection</h2><p>You may also want to stop all automatic injections to reduce the memory footprint of the plugin.</p><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VeeValidate <span class="token keyword">from</span> <span class="token string">'vee-validate'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VeeValidate<span class="token punctuation">,</span> <span class="token punctuation">{</span> inject<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>This will make the plugin stop instantiating a new validator for each component instance, excluding the root instance. But you would need to manage how a component gets its validator instance if it needs it. So it can inject it from a parent or <a href="#requesting-a-new-validator-instance">request a fresh validator instance</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Injecting the parent validator with the <code>Inject API</code> will work the same regardless of automatic injection state. The component will always get its validator instance from the first parent that can provide it.</p></div><h3 id="requesting-a-new-validator-instance"><a href="#requesting-a-new-validator-instance" aria-hidden="true" class="header-anchor">#</a> Requesting a new validator instance</h3><p>By setting a <code>validator</code> property on the component's VeeValidate constructor options:</p><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  $_veeValidate<span class="token punctuation">:</span> <span class="token punctuation">{</span>
<span class="highlighted-line">    validator<span class="token punctuation">:</span> <span class="token string">'new'</span> <span class="token comment">// give me my own validator instance.</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Typically a component would need a new validator instance for various reasons; common examples are if it is a <code>vue-router</code> route component or a <code>nuxt</code> page component. Requesting a fresh validator instance will make the component the only provider for validator instances to its children.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>With SSR Frameworks like Nuxt, it is recommended to disable automatic injection since it may cause memory leaks due to all the validator instances being created for every component, which will slow down your site.</p></div></div><div class="content edit-link"><a href="https://github.com/baianat/vee-validate/edit/master/docs/advanced/README.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><!----><span class="next"><a href="/vee-validate/advanced/ctor.html">
          Component Constructor Options
        </a> →
      </span></p></div></div></div></div>
    <script src="/vee-validate/assets/js/33.a89c0186.js" defer></script><script src="/vee-validate/assets/js/app.18b3ed2a.js" defer></script>
  </body>
</html>
